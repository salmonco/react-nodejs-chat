{"ast":null,"code":"import _toConsumableArray from\"D:/jisu/node/chat/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/jisu/node/chat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import io from\"socket.io-client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var socket=io(\"localhost:5000\");var Chat=function Chat(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),chatList=_useState6[0],setChatList=_useState6[1];useEffect(function(){console.log(chatList);socket.on(\"message\",function(message){setChatList(function(prev){return[].concat(_toConsumableArray(prev),[message]);});});console.log(chatList);},[chatList]);var sendMessage=function sendMessage(e){e.preventDefault();socket.emit(\"message\",\"\".concat(name,\" : \").concat(message));setMessage(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC774\\uB984: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Chatting\"}),/*#__PURE__*/_jsx(\"ul\",{children:chatList.map(function(chat,index){return/*#__PURE__*/_jsx(\"li\",{children:chat},index);})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"\\uC804\\uC1A1\"})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","io","socket","Chat","name","setName","message","setMessage","chatList","setChatList","console","log","on","prev","sendMessage","e","preventDefault","emit","target","value","map","chat","index"],"sources":["D:/jisu/node/chat/src/page/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst socket = io(\"localhost:5000\");\r\n\r\nconst Chat = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [chatList, setChatList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    console.log(chatList);\r\n    socket.on(\"message\", (message) => {\r\n      setChatList((prev) => [...prev, message]);\r\n    });\r\n    console.log(chatList);\r\n  }, [chatList]);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    socket.emit(\"message\", `${name} : ${message}`);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <span>이름: </span>\r\n      <input\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n      <div>\r\n        <p>Chatting</p>\r\n        <ul>\r\n          {chatList.map((chat, index) => (\r\n            <li key={index}>{chat}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n      />\r\n      <button onClick={sendMessage}>전송</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"sNAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,GAAE,KAAM,kBAAkB,CAAC,6IAElC,GAAMC,OAAM,CAAGD,EAAE,CAAC,gBAAgB,CAAC,CAEnC,GAAME,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eACpB,eAA8BN,QAAQ,CAAC,EAAE,CAAC,yCAAnCO,OAAO,eAAEC,UAAU,eAC1B,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAE5BT,SAAS,CAAC,UAAM,CACdU,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACrBN,MAAM,CAACU,EAAE,CAAC,SAAS,CAAE,SAACN,OAAO,CAAK,CAChCG,WAAW,CAAC,SAACI,IAAI,qCAASA,IAAI,GAAEP,OAAO,IAAC,CAAC,CAC3C,CAAC,CAAC,CACFI,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACvB,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,GAAMM,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAK,CACzBA,CAAC,CAACC,cAAc,EAAE,CAClBd,MAAM,CAACe,IAAI,CAAC,SAAS,WAAKb,IAAI,eAAME,OAAO,EAAG,CAC9CC,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACE,wCACE,sBAAM,gBAAI,EAAO,cACjB,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEH,IAAK,CACZ,QAAQ,CAAE,kBAACW,CAAC,QAAKV,QAAO,CAACU,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,EAAC,EACzC,cACF,oCACE,mBAAG,UAAQ,EAAI,cACf,oBACGX,QAAQ,CAACY,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACxB,oBAAiBD,IAAI,EAAZC,KAAK,CAAa,EAC5B,CAAC,EACC,GACD,cACN,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEhB,OAAQ,CACf,QAAQ,CAAE,kBAACS,CAAC,QAAKR,WAAU,CAACQ,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,EAAC,EAC5C,cACF,eAAQ,OAAO,CAAEL,WAAY,UAAC,cAAE,EAAS,GACxC,CAEP,CAAC,CAED,cAAeX,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}