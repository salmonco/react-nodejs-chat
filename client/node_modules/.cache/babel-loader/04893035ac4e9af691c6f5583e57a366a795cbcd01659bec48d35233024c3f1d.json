{"ast":null,"code":"import _toConsumableArray from\"D:/jisu/react-nodejs-chat/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/jisu/react-nodejs-chat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import io from\"socket.io-client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var socket=io(\"localhost:5000\");var Chat=function Chat(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),joinList=_useState6[0],setJoinList=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chatList=_useState8[0],setChatList=_useState8[1];useEffect(function(){socket.emit(\"join\",name);socket.on(\"join\",function(msg){setJoinList(function(prev){return[].concat(_toConsumableArray(prev),[msg]);});});socket.on(\"message\",function(msg){setChatList(function(prev){return[].concat(_toConsumableArray(prev),[msg]);});});},[]);var sendMessage=function sendMessage(){socket.emit(\"message\",\"\".concat(name,\" : \").concat(message));setMessage(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD604\\uC7AC \\uBC29\\uC5D0 \\uC788\\uB294 \\uC0AC\\uB78C\"}),/*#__PURE__*/_jsx(\"ul\",{children:joinList.map(function(chat,index){return/*#__PURE__*/_jsx(\"li\",{children:chat},index);})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC774\\uB984: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uCC44\\uD305\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"ul\",{children:chatList.map(function(chat,index){return/*#__PURE__*/_jsx(\"li\",{children:chat},index);})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"\\uC804\\uC1A1\"})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","io","socket","Chat","name","setName","message","setMessage","joinList","setJoinList","chatList","setChatList","emit","on","msg","prev","sendMessage","map","chat","index","e","target","value"],"sources":["D:/jisu/react-nodejs-chat/frontend/src/page/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst socket = io(\"localhost:5000\");\r\n\r\nconst Chat = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [joinList, setJoinList] = useState([]);\r\n  const [chatList, setChatList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"join\", name);\r\n\r\n    socket.on(\"join\", (msg) => {\r\n      setJoinList((prev) => [...prev, msg]);\r\n    });\r\n\r\n    socket.on(\"message\", (msg) => {\r\n      setChatList((prev) => [...prev, msg]);\r\n    });\r\n  }, []);\r\n\r\n  const sendMessage = () => {\r\n    socket.emit(\"message\", `${name} : ${message}`);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p>현재 방에 있는 사람</p>\r\n      <ul>\r\n        {joinList.map((chat, index) => (\r\n          <li key={index}>{chat}</li>\r\n        ))}\r\n      </ul>\r\n      <span>이름: </span>\r\n      <input\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n      <div>\r\n        <p>채팅하기</p>\r\n        <ul>\r\n          {chatList.map((chat, index) => (\r\n            <li key={index}>{chat}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n      />\r\n      <button onClick={sendMessage}>전송</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":"wPAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,GAAE,KAAM,kBAAkB,CAAC,6IAElC,GAAMC,OAAM,CAAGD,EAAE,CAAC,gBAAgB,CAAC,CAEnC,GAAME,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,cAAwBJ,QAAQ,CAAC,EAAE,CAAC,wCAA7BK,IAAI,eAAEC,OAAO,eACpB,eAA8BN,QAAQ,CAAC,EAAE,CAAC,yCAAnCO,OAAO,eAAEC,UAAU,eAC1B,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAAgCV,QAAQ,CAAC,EAAE,CAAC,yCAArCW,QAAQ,eAAEC,WAAW,eAE5BX,SAAS,CAAC,UAAM,CACdE,MAAM,CAACU,IAAI,CAAC,MAAM,CAAER,IAAI,CAAC,CAEzBF,MAAM,CAACW,EAAE,CAAC,MAAM,CAAE,SAACC,GAAG,CAAK,CACzBL,WAAW,CAAC,SAACM,IAAI,qCAASA,IAAI,GAAED,GAAG,IAAC,CAAC,CACvC,CAAC,CAAC,CAEFZ,MAAM,CAACW,EAAE,CAAC,SAAS,CAAE,SAACC,GAAG,CAAK,CAC5BH,WAAW,CAAC,SAACI,IAAI,qCAASA,IAAI,GAAED,GAAG,IAAC,CAAC,CACvC,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAME,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBd,MAAM,CAACU,IAAI,CAAC,SAAS,WAAKR,IAAI,eAAME,OAAO,EAAG,CAC9CC,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACE,wCACE,mBAAG,qDAAW,EAAI,cAClB,oBACGC,QAAQ,CAACS,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACxB,oBAAiBD,IAAI,EAAZC,KAAK,CAAa,EAC5B,CAAC,EACC,cACL,sBAAM,gBAAI,EAAO,cACjB,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEf,IAAK,CACZ,QAAQ,CAAE,kBAACgB,CAAC,QAAKf,QAAO,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EACzC,cACF,oCACE,mBAAG,0BAAI,EAAI,cACX,oBACGZ,QAAQ,CAACO,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACxB,oBAAiBD,IAAI,EAAZC,KAAK,CAAa,EAC5B,CAAC,EACC,GACD,cACN,cACE,IAAI,CAAC,MAAM,CACX,KAAK,CAAEb,OAAQ,CACf,QAAQ,CAAE,kBAACc,CAAC,QAAKb,WAAU,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAC5C,cACF,eAAQ,OAAO,CAAEN,WAAY,UAAC,cAAE,EAAS,GACxC,CAEP,CAAC,CAED,cAAeb,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}